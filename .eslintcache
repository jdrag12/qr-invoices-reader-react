[{"/Users/joandragomateu/Desktop/refundapp/src/index.js":"1","/Users/joandragomateu/Desktop/refundapp/src/App.js":"2","/Users/joandragomateu/Desktop/refundapp/src/pages/AddInvoice/index.js":"3","/Users/joandragomateu/Desktop/refundapp/src/pages/Invoices/index.js":"4","/Users/joandragomateu/Desktop/refundapp/src/components/common/Navbar/index.js":"5","/Users/joandragomateu/Desktop/refundapp/src/components/addinvoice/ScanCode/index.js":"6","/Users/joandragomateu/Desktop/refundapp/src/components/invoices/InvoicesList/index.js":"7","/Users/joandragomateu/Desktop/refundapp/src/components/addinvoice/InvoiceDialog/index.js":"8","/Users/joandragomateu/Desktop/refundapp/src/components/common/Button/index.js":"9","/Users/joandragomateu/Desktop/refundapp/src/components/invoices/InvoiceItem/index.js":"10","/Users/joandragomateu/Desktop/refundapp/src/components/addinvoice/Questions/index.js":"11","/Users/joandragomateu/Desktop/refundapp/src/utils/functions/index.js":"12","/Users/joandragomateu/Desktop/refundapp/src/utils/messages/index.js":"13","/Users/joandragomateu/Desktop/refundapp/src/components/common/Badge/index.js":"14","/Users/joandragomateu/Desktop/refundapp/src/utils/mocks/qr_codes_links.js":"15"},{"size":219,"mtime":1612452551000,"results":"16","hashOfConfig":"17"},{"size":768,"mtime":1613497220948,"results":"18","hashOfConfig":"17"},{"size":1624,"mtime":1612460181000,"results":"19","hashOfConfig":"17"},{"size":788,"mtime":1613498315122,"results":"20","hashOfConfig":"17"},{"size":394,"mtime":1612452322000,"results":"21","hashOfConfig":"17"},{"size":2189,"mtime":1613497898164,"results":"22","hashOfConfig":"17"},{"size":626,"mtime":1612460407000,"results":"23","hashOfConfig":"17"},{"size":2412,"mtime":1612464651000,"results":"24","hashOfConfig":"17"},{"size":492,"mtime":1612451714000,"results":"25","hashOfConfig":"17"},{"size":1438,"mtime":1612460419000,"results":"26","hashOfConfig":"17"},{"size":1875,"mtime":1612453839000,"results":"27","hashOfConfig":"17"},{"size":441,"mtime":1612370025000,"results":"28","hashOfConfig":"17"},{"size":521,"mtime":1612456241000,"results":"29","hashOfConfig":"17"},{"size":234,"mtime":1612455423000,"results":"30","hashOfConfig":"17"},{"size":300,"mtime":1613498163338,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"1164t2m",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"34"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"/Users/joandragomateu/Desktop/refundapp/src/index.js",[],["64","65"],"/Users/joandragomateu/Desktop/refundapp/src/App.js",[],"/Users/joandragomateu/Desktop/refundapp/src/pages/AddInvoice/index.js",[],"/Users/joandragomateu/Desktop/refundapp/src/pages/Invoices/index.js",[],"/Users/joandragomateu/Desktop/refundapp/src/components/common/Navbar/index.js",[],"/Users/joandragomateu/Desktop/refundapp/src/components/addinvoice/ScanCode/index.js",[],"/Users/joandragomateu/Desktop/refundapp/src/components/invoices/InvoicesList/index.js",[],"/Users/joandragomateu/Desktop/refundapp/src/components/addinvoice/InvoiceDialog/index.js",["66"],"import PropTypes from \"prop-types\";\n\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"../../common/Button\";\n\nimport Questions from \"../Questions\";\n\nconst InvoiceDialog = ({\n  invoiceData: { invoice: uploadedInvoice, addInvoiceToRegisterList },\n  controls,\n}) => {\n  const history = useHistory();\n  const [invoice, setInvoice] = useState(uploadedInvoice);\n  const [answers, setAnswers] = useState({\n    firstAnswer: \"\",\n    secondAnswer: 1,\n  });\n\n  const { sender, invoice_no } = invoice;\n  const { prevStep } = controls;\n\n  useEffect(() => {\n    if (answers.firstAnswer === \"no\") {\n      setInvoice({\n        ...invoice,\n        refunded_percentage: null,\n        refunded_amount: null,\n        registration_date: new Date(),\n        refunded: false,\n      });\n    } else if (answers.firstAnswer === \"yes\") {\n      const percentage = answers.secondAnswer;\n\n      setInvoice({\n        ...invoice,\n        registration_date: new Date(),\n        refunded: true,\n        refunded_percentage: Number(percentage),\n        refunded_amount: Math.round(\n          (percentage / 100) * invoice.amount + invoice.vat[0].amount\n        ),\n      });\n    }\n  }, [answers]);\n\n  const registerInvoice = () => {\n    addInvoiceToRegisterList(invoice);\n    history.push(\"/\");\n  };\n\n  const handleAnswers = (e) => {\n    setAnswers({ ...answers, [e.target.name]: e.target.value });\n  };\n\n  return (\n    uploadedInvoice && (\n      <>\n        <div>\n          <span>\n            {\" \"}\n            Invoice no: <strong>{invoice_no}</strong>, from {sender} scanned\n          </span>\n\n          <Questions answers={answers} handleAnswers={handleAnswers} />\n          <div className=\"button__container\">\n            <Button role=\"secondary\" onClick={() => prevStep()}>\n              Scan again\n            </Button>\n            <Button\n              role=\"primary\"\n              onClick={() => registerInvoice()}\n              disabled={!answers.firstAnswer}\n            >\n              Submit Invoice\n            </Button>\n          </div>\n        </div>\n      </>\n    )\n  );\n};\n\nInvoiceDialog.propTypes = {\n  invoiceData: PropTypes.shape({\n    invoice: PropTypes.object.isRequired,\n    addInvoiceToRegisterList: PropTypes.func.isRequired,\n  }),\n  controls: PropTypes.shape({\n    prevStep: PropTypes.func,\n    nextStep: PropTypes.func,\n  }),\n};\n\nexport default InvoiceDialog;\n","/Users/joandragomateu/Desktop/refundapp/src/components/common/Button/index.js",[],"/Users/joandragomateu/Desktop/refundapp/src/components/invoices/InvoiceItem/index.js",[],"/Users/joandragomateu/Desktop/refundapp/src/components/addinvoice/Questions/index.js",[],"/Users/joandragomateu/Desktop/refundapp/src/utils/functions/index.js",[],"/Users/joandragomateu/Desktop/refundapp/src/utils/messages/index.js",[],"/Users/joandragomateu/Desktop/refundapp/src/components/common/Badge/index.js",[],"/Users/joandragomateu/Desktop/refundapp/src/utils/mocks/qr_codes_links.js",[],{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","severity":1,"message":"72","line":46,"column":6,"nodeType":"73","endLine":46,"endColumn":15,"suggestions":"74"},"no-native-reassign",["75"],"no-negated-in-lhs",["76"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'invoice'. Either include it or remove the dependency array. You can also do a functional update 'setInvoice(i => ...)' if you only need 'invoice' in the 'setInvoice' call.","ArrayExpression",["77"],"no-global-assign","no-unsafe-negation",{"desc":"78","fix":"79"},"Update the dependencies array to be: [answers, invoice]",{"range":"80","text":"81"},[1212,1221],"[answers, invoice]"]